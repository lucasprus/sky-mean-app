"use strict";angular.module("skyMeanAppApp",["ngRoute","skyMeanAppApp.controllers","skyMeanAppApp.services"]).config(["$routeProvider",function(a){a.when("/home",{templateUrl:"views/main.html",controller:"MainController"}).when("/sign-in",{templateUrl:"views/sign_in.html"}).when("/restricted-content",{templateUrl:"views/restricted_content.html",controller:"RestrictedContentController"}).when("/",{redirectTo:"/home"}).when("/404",{templateUrl:"views/404.html"}).otherwise({redirectTo:"/404"})}]),angular.module("skyMeanAppApp.controllers",["skyMeanAppApp.services"]).controller("MainController",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]).controller("SignInFormController",["$scope","Session","AlertMessagesService","$location",function(a,b,c,d){a.word=/^\s*\w*\s*$/,a.loginAttempts=[],a.user={username:"",password:""},a.submit=function(){a.loginAttempts.push(angular.copy(a.user)),b.start(a.user,function(a){c.push({type:"success",message:a}),d.path("/restricted-content")},function(b){c.push({type:"danger",message:b}),a.user.username="",a.user.password="",a.signInForm.$setPristine()})}}]).controller("RestrictedContentController",["$scope","$http","AlertMessagesService",function(a,b,c){b.get("/restricted-content").success(function(b){a.content=b}).error(function(a){c.push({type:"danger",message:a})})}]).controller("AlertMessagesController",["$scope","AlertMessagesService",function(a,b){a.alerts=b.alerts,a.dismiss=function(a){b.delete(a)}}]).controller("MenuController",["$scope","$location","Session","AlertMessagesService",function(a,b,c,d){a.signOut=function(){c.destroy(function(a){d.push({type:"success",message:a}),b.path("/sign-in")},function(a){d.push({type:"danger",message:a})})}}]),angular.module("skyMeanAppApp.services",[]).factory("Session",["$http",function(a){return{start:function(b,c,d){a.post("/session",b).success(c).error(d)},destroy:function(b,c){a.delete("/session").success(b).error(c)}}}]).factory("AlertMessagesService",["$timeout",function(a){return{alerts:[],push:function(){function b(a,b){return function(){a.delete(b)}}for(var c,d=0,e=arguments.length;e>d;d+=1){c=arguments[d],this.alerts.push(c);var f=this;a(b(f,c),3e3)}},"delete":function(a){var b=this.alerts;b.splice(b.indexOf(a),1)}}}]);